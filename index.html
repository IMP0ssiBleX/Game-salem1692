<!DOCTYPE html>
<html lang="th">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Salem 1692 - ‡πÄ‡∏Å‡∏°‡∏•‡πà‡∏≤‡πÅ‡∏°‡πà‡∏°‡∏î</title>
    <meta name="description" content="‡πÄ‡∏Å‡∏° Social Deduction ‡∏¢‡∏∏‡∏Ñ‡∏•‡πà‡∏≤‡πÅ‡∏°‡πà‡∏°‡∏î ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÄ‡∏•‡πà‡∏ô‡∏Å‡∏±‡∏ö‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ô 4-12 ‡∏Ñ‡∏ô">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;600;700&family=Sarabun:wght@300;400;500;600;700&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="css/index.css">
    <link rel="stylesheet" href="css/cards.css">
    <link rel="stylesheet" href="css/screens.css">
    <link rel="stylesheet" href="css/animations.css">
    <!-- <script src="https://unpkg.com/peerjs@1.5.2/dist/peerjs.min.js"></script> -->
    <script src="https://cdn.socket.io/4.7.2/socket.io.min.js"></script>
</head>

<body>
    <div id="app">
        <!-- Loading Screen -->
        <div id="loading-screen" class="screen active">
            <div class="loading-content">
                <div class="pentagram-loader"></div>
                <h1 class="game-title">Salem</h1>
                <p class="game-subtitle">1692</p>
                <p class="loading-text">‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÇ‡∏´‡∏•‡∏î...</p>
            </div>
        </div>

        <!-- Main Menu Screen -->
        <div id="menu-screen" class="screen">
            <div class="menu-bg">
                <div class="fog fog-1"></div>
                <div class="fog fog-2"></div>
            </div>
            <div class="menu-content">
                <div class="logo-container">
                    <div class="candle-glow"></div>
                    <h1 class="game-title glitch" data-text="Salem">Salem</h1>
                    <p class="game-subtitle">1692</p>
                    <p class="tagline">‡∏•‡πà‡∏≤‡πÅ‡∏°‡πà‡∏°‡∏î ‡∏´‡∏£‡∏∑‡∏≠ ‡∏ñ‡∏π‡∏Å‡∏•‡πà‡∏≤?</p>
                </div>
                <div class="menu-buttons">
                    <button class="btn btn-primary" id="btn-create-room">
                        <span class="btn-icon">üïØÔ∏è</span>
                        <span class="btn-text">‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏´‡πâ‡∏≠‡∏á</span>
                    </button>
                    <button class="btn btn-secondary" id="btn-join-room">
                        <span class="btn-icon">üö™</span>
                        <span class="btn-text">‡πÄ‡∏Ç‡πâ‡∏≤‡∏£‡πà‡∏ß‡∏°‡∏´‡πâ‡∏≠‡∏á</span>
                    </button>
                    <button class="btn btn-ghost" id="btn-how-to-play">
                        <span class="btn-icon">üìú</span>
                        <span class="btn-text">‡∏ß‡∏¥‡∏ò‡∏µ‡πÄ‡∏•‡πà‡∏ô</span>
                    </button>
                </div>
            </div>
        </div>

        <!-- Create Room Screen -->
        <div id="create-room-screen" class="screen">
            <div class="screen-header">
                <button class="btn-back" id="btn-back-create">
                    <span>‚Üê</span>
                </button>
                <h2>‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏´‡πâ‡∏≠‡∏á</h2>
            </div>
            <div class="screen-content">
                <div class="form-group">
                    <label for="host-name">‡∏ä‡∏∑‡πà‡∏≠‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì</label>
                    <input type="text" id="host-name" placeholder="‡πÉ‡∏™‡πà‡∏ä‡∏∑‡πà‡∏≠..." maxlength="20">
                </div>
                <div class="form-group">
                    <label>‡πÇ‡∏´‡∏°‡∏î</label>
                    <div class="toggle-group">
                        <button class="toggle-btn active" data-mode="host">
                            <span class="toggle-icon">üì∫</span>
                            <span class="toggle-label">‡∏´‡∏ô‡πâ‡∏≤‡∏à‡∏≠‡∏Å‡∏•‡∏≤‡∏á</span>
                        </button>
                        <button class="toggle-btn" data-mode="player">
                            <span class="toggle-icon">üì±</span>
                            <span class="toggle-label">‡∏ú‡∏π‡πâ‡πÄ‡∏•‡πà‡∏ô</span>
                        </button>
                    </div>
                </div>
                <button class="btn btn-primary btn-full" id="btn-confirm-create">
                    <span>‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏´‡πâ‡∏≠‡∏á</span>
                </button>
            </div>
        </div>

        <!-- Join Room Screen -->
        <div id="join-room-screen" class="screen">
            <div class="screen-header">
                <button class="btn-back" id="btn-back-join">
                    <span>‚Üê</span>
                </button>
                <h2>‡πÄ‡∏Ç‡πâ‡∏≤‡∏£‡πà‡∏ß‡∏°‡∏´‡πâ‡∏≠‡∏á</h2>
            </div>
            <div class="screen-content">
                <div class="form-group">
                    <label for="player-name">‡∏ä‡∏∑‡πà‡∏≠‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì</label>
                    <input type="text" id="player-name" placeholder="‡πÉ‡∏™‡πà‡∏ä‡∏∑‡πà‡∏≠..." maxlength="20">
                </div>
                <div class="form-group">
                    <label for="room-code">‡∏£‡∏´‡∏±‡∏™‡∏´‡πâ‡∏≠‡∏á</label>
                    <div class="code-input-group">
                        <input type="text" id="room-code" placeholder="XXXX" maxlength="4" class="code-input">
                    </div>
                </div>
                <button class="btn btn-primary btn-full" id="btn-confirm-join">
                    <span>‡πÄ‡∏Ç‡πâ‡∏≤‡∏£‡πà‡∏ß‡∏°</span>
                </button>
            </div>
        </div>

        <!-- Lobby Screen -->
        <div id="lobby-screen" class="screen">
            <div class="lobby-header">
                <div class="room-info">
                    <span class="room-label">‡∏£‡∏´‡∏±‡∏™‡∏´‡πâ‡∏≠‡∏á</span>
                    <span class="room-code" id="lobby-room-code">ABCD</span>
                </div>
                <div class="player-count">
                    <span id="lobby-player-count">0</span>/12 ‡∏ú‡∏π‡πâ‡πÄ‡∏•‡πà‡∏ô
                </div>
            </div>
            <div class="lobby-content">
                <div class="qr-section" id="qr-section">
                    <div class="qr-code" id="qr-code"></div>
                    <p class="qr-hint">‡∏™‡πÅ‡∏Å‡∏ô QR ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏Ç‡πâ‡∏≤‡∏£‡πà‡∏ß‡∏°</p>
                </div>
                <div class="players-grid" id="players-grid">
                    <!-- Player cards will be inserted here -->
                </div>
            </div>
            <div class="lobby-footer">
                <button class="btn btn-ghost" id="btn-add-bot">
                    <span>ü§ñ ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏ö‡∏≠‡∏ó</span>
                </button>
                <button class="btn btn-danger" id="btn-leave-room">
                    <span>‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å‡∏´‡πâ‡∏≠‡∏á</span>
                </button>
                <button class="btn btn-primary" id="btn-start-game" disabled>
                    <span>‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÄ‡∏Å‡∏°</span>
                </button>
            </div>
        </div>

        <!-- Character Select Screen -->
        <div id="character-screen" class="screen">
            <div class="screen-header">
                <h2>‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ï‡∏±‡∏ß‡∏•‡∏∞‡∏Ñ‡∏£</h2>
                <div class="timer" id="char-timer">30</div>
            </div>
            <div class="characters-grid" id="characters-grid">
                <!-- Character cards will be inserted here -->
            </div>
            <div class="selected-character" id="selected-character">
                <div class="character-portrait"></div>
                <div class="character-info">
                    <h3 class="character-name"></h3>
                    <p class="character-ability"></p>
                </div>
            </div>
            <button class="btn btn-primary btn-full" id="btn-confirm-character">
                <span>‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô</span>
            </button>
        </div>

        <!-- Host Game Screen -->
        <div id="host-screen" class="screen">
            <div class="host-header">
                <div class="game-phase" id="host-phase">
                    <span class="phase-icon">‚òÄÔ∏è</span>
                    <span class="phase-text">‡∏Å‡∏•‡∏≤‡∏á‡∏ß‡∏±‡∏ô</span>
                </div>
                <div class="turn-info">
                    <span>‡πÄ‡∏ó‡∏¥‡∏£‡πå‡∏ô‡∏Ç‡∏≠‡∏á</span>
                    <span class="current-player" id="host-current-player">-</span>
                </div>
                <div class="deck-count">
                    <span class="deck-icon">üÉè</span>
                    <span id="host-deck-count">0</span>
                </div>
            </div>
            <div class="host-content">
                <div class="players-circle" id="host-players-circle">
                    <!-- Player positions will be inserted here -->
                </div>
                <div class="center-area">
                    <div class="event-display" id="host-event">
                        <p class="event-text">‡∏£‡∏≠‡∏ú‡∏π‡πâ‡πÄ‡∏•‡πà‡∏ô‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ï‡∏±‡∏ß‡∏•‡∏∞‡∏Ñ‡∏£...</p>
                    </div>
                </div>
            </div>
            <div class="revealed-cards" id="revealed-cards">
                <!-- Revealed Tryal cards will be shown here -->
            </div>
            <!-- Game Activity Log -->
            <div class="game-log-container">
                <div class="game-log-header">
                    <span class="log-icon">üìú</span>
                    <span>‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡πÄ‡∏´‡∏ï‡∏∏‡∏Å‡∏≤‡∏£‡∏ì‡πå</span>
                </div>
                <div class="game-log">
                    <div class="log-entry log-system">
                        <span class="log-time">--:--</span>
                        <span class="log-message">‡∏£‡∏≠‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÄ‡∏Å‡∏°...</span>
                    </div>
                </div>
            </div>
        </div>

        <!-- Player Game Screen -->
        <div id="player-screen" class="screen">
            <!-- Game Activity Log (Player) -->
            <div class="game-log-container player-log">
                <div class="game-log-header">
                    <span class="log-icon">üìú</span>
                    <span>‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡πÄ‡∏´‡∏ï‡∏∏‡∏Å‡∏≤‡∏£‡∏ì‡πå</span>
                </div>
                <div class="game-log">
                    <div class="log-entry log-system">
                        <span class="log-time">--:--</span>
                        <span class="log-message">‡∏£‡∏≠‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÄ‡∏Å‡∏°...</span>
                    </div>
                </div>
            </div>

            <div class="player-header">
                <div class="player-info-bar">
                    <div class="player-avatar" id="player-avatar"></div>
                    <div class="player-details">
                        <span class="player-name" id="player-name-display">‡∏ú‡∏π‡πâ‡πÄ‡∏•‡πà‡∏ô</span>
                        <span class="player-character" id="player-character-display">-</span>
                    </div>
                </div>
                <div class="accusation-meter">
                    <div class="meter-fill" id="accusation-fill" style="width: 0%"></div>
                    <span class="meter-text"><span id="accusation-count">0</span>/7</span>
                </div>
                <div class="deck-status-player">
                    <span class="deck-icon">üÉè</span>
                    <span id="player-deck-count">0</span>
                </div>
            </div>
            <div class="player-content">
                <!-- Tryal Cards Area -->
                <div class="tryal-area" id="tryal-area">
                    <h3 class="area-title">‡∏Å‡∏≤‡∏£‡πå‡∏î Tryal ‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì</h3>
                    <div class="tryal-cards" id="tryal-cards">
                        <!-- Tryal cards will be inserted here -->
                    </div>
                </div>
                <!-- Hand Cards Area -->
                <div class="hand-area" id="hand-area">
                    <h3 class="area-title">‡∏Å‡∏≤‡∏£‡πå‡∏î‡πÉ‡∏ô‡∏°‡∏∑‡∏≠</h3>
                    <div class="hand-cards" id="hand-cards">
                        <!-- Hand cards will be inserted here -->
                    </div>
                </div>
            </div>
            <div class="player-actions" id="player-actions">
                <button class="btn btn-action" id="btn-draw-cards" disabled>
                    <span class="btn-icon">üÉè</span>
                    <span>‡∏à‡∏±‡πà‡∏ß‡∏Å‡∏≤‡∏£‡πå‡∏î</span>
                </button>
                <button class="btn btn-action" id="btn-end-turn" disabled>
                    <span class="btn-icon">‚úì</span>
                    <span>‡∏à‡∏ö‡πÄ‡∏ó‡∏¥‡∏£‡πå‡∏ô</span>
                </button>
            </div>
        </div>

        <!-- Night Phase Screen -->
        <div id="night-screen" class="screen">
            <div class="night-overlay">
                <div class="moon"></div>
                <div class="stars"></div>
            </div>
            <div class="night-content">
                <h2 class="night-title">üåô ‡∏Å‡∏•‡∏≤‡∏á‡∏Ñ‡∏∑‡∏ô</h2>
                <p class="night-instruction" id="night-instruction">‡∏õ‡∏¥‡∏î‡∏ï‡∏≤‡∏ó‡∏∏‡∏Å‡∏Ñ‡∏ô...</p>
                <div class="night-action-area" id="night-action-area">
                    <!-- Night action UI will be inserted here -->
                </div>
            </div>
        </div>

        <!-- Game End Screen -->
        <div id="end-screen" class="screen">
            <div class="end-content">
                <div class="winner-announcement">
                    <h2 id="winner-title">‡∏ä‡∏≤‡∏ß‡∏ö‡πâ‡∏≤‡∏ô‡∏ä‡∏ô‡∏∞!</h2>
                    <p id="winner-subtitle">‡πÅ‡∏°‡πà‡∏°‡∏î‡∏ñ‡∏π‡∏Å‡πÄ‡∏õ‡∏¥‡∏î‡πÄ‡∏ú‡∏¢‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î‡πÅ‡∏•‡πâ‡∏ß</p>
                </div>
                <div class="final-reveal" id="final-reveal">
                    <!-- All player roles will be revealed here -->
                </div>
                <div class="end-actions">
                    <button class="btn btn-primary" id="btn-play-again">
                        <span>‡πÄ‡∏•‡πà‡∏ô‡∏≠‡∏µ‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á</span>
                    </button>
                    <button class="btn btn-ghost" id="btn-back-menu">
                        <span>‡∏Å‡∏•‡∏±‡∏ö‡πÄ‡∏°‡∏ô‡∏π‡∏´‡∏•‡∏±‡∏Å</span>
                    </button>
                </div>
            </div>
        </div>

        <!-- How To Play Screen -->
        <div id="howto-screen" class="screen">
            <div class="screen-header">
                <button class="btn-back" id="btn-back-howto">
                    <span>‚Üê</span>
                </button>
                <h2>‡∏ß‡∏¥‡∏ò‡∏µ‡πÄ‡∏•‡πà‡∏ô</h2>
            </div>
            <div class="howto-content">
                <div class="howto-section">
                    <h3>üéØ ‡πÄ‡∏õ‡πâ‡∏≤‡∏´‡∏°‡∏≤‡∏¢</h3>
                    <div class="howto-cards">
                        <div class="howto-card villager">
                            <span class="role-icon">üë•</span>
                            <h4>‡∏ä‡∏≤‡∏ß‡∏ö‡πâ‡∏≤‡∏ô</h4>
                            <p>‡πÄ‡∏õ‡∏¥‡∏î‡πÄ‡∏ú‡∏¢‡∏Å‡∏≤‡∏£‡πå‡∏î Witch ‡∏Ç‡∏≠‡∏á‡πÅ‡∏°‡πà‡∏°‡∏î‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î‡πÉ‡∏´‡πâ‡πÑ‡∏î‡πâ</p>
                        </div>
                        <div class="howto-card witch">
                            <span class="role-icon">üßô‚Äç‚ôÄÔ∏è</span>
                            <h4>‡πÅ‡∏°‡πà‡∏°‡∏î</h4>
                            <p>‡∏Å‡∏≥‡∏à‡∏±‡∏î‡∏ä‡∏≤‡∏ß‡∏ö‡πâ‡∏≤‡∏ô‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î ‡∏´‡∏£‡∏∑‡∏≠‡∏≠‡∏¢‡∏π‡πà‡∏£‡∏≠‡∏î‡∏à‡∏ô‡∏à‡∏ö‡πÄ‡∏Å‡∏°</p>
                        </div>
                    </div>
                </div>
                <div class="howto-section">
                    <h3>üéÆ ‡∏Å‡∏≤‡∏£‡πÄ‡∏•‡πà‡∏ô</h3>
                    <ol class="howto-steps">
                        <li><strong>‡∏à‡∏±‡πà‡∏ß‡∏Å‡∏≤‡∏£‡πå‡∏î 2 ‡πÉ‡∏ö</strong> ‡∏à‡∏≤‡∏Å‡∏™‡∏≥‡∏£‡∏±‡∏ö‡∏Å‡∏•‡∏≤‡∏á</li>
                        <li><strong>‡πÄ‡∏•‡πà‡∏ô‡∏Å‡∏≤‡∏£‡πå‡∏î</strong> ‡πÉ‡∏™‡πà‡∏ú‡∏π‡πâ‡πÄ‡∏•‡πà‡∏ô‡∏Ñ‡∏ô‡∏≠‡∏∑‡πà‡∏ô (‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÄ‡∏•‡πà‡∏ô‡πÉ‡∏™‡πà‡∏ï‡∏±‡∏ß‡πÄ‡∏≠‡∏á‡πÑ‡∏î‡πâ)</li>
                        <li>‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏ñ‡∏π‡∏Å‡∏Å‡∏•‡πà‡∏≤‡∏ß‡∏´‡∏≤‡∏Ñ‡∏£‡∏ö <strong>7 ‡πÅ‡∏ï‡πâ‡∏°</strong> ‡∏à‡∏∞‡∏ñ‡∏π‡∏Å‡πÄ‡∏õ‡∏¥‡∏î Tryal Card</li>
                        <li>‡∏ñ‡πâ‡∏≤‡πÄ‡∏õ‡∏¥‡∏î‡πÄ‡∏à‡∏≠ <strong>Witch</strong> ‡πÅ‡∏°‡πà‡∏°‡∏î‡∏Ñ‡∏ô‡∏ô‡∏±‡πâ‡∏ô‡∏ñ‡∏π‡∏Å‡∏Å‡∏≥‡∏à‡∏±‡∏î!</li>
                    </ol>
                </div>
                <div class="howto-section">
                    <h3>üåô ‡∏Å‡∏•‡∏≤‡∏á‡∏Ñ‡∏∑‡∏ô</h3>
                    <p>‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏à‡∏±‡πà‡∏ß‡∏Å‡∏≤‡∏£‡πå‡∏î Night ‡∏à‡∏∞‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏ä‡πà‡∏ß‡∏á‡∏Å‡∏•‡∏≤‡∏á‡∏Ñ‡∏∑‡∏ô:</p>
                    <ul>
                        <li>‡∏ó‡∏∏‡∏Å‡∏Ñ‡∏ô‡∏õ‡∏¥‡∏î‡∏ï‡∏≤</li>
                        <li>‡πÅ‡∏°‡πà‡∏°‡∏î‡∏•‡∏∑‡∏°‡∏ï‡∏≤‡πÅ‡∏•‡∏∞‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏™‡∏±‡∏á‡∏´‡∏≤‡∏£‡πÄ‡∏´‡∏¢‡∏∑‡πà‡∏≠ 1 ‡∏Ñ‡∏ô</li>
                        <li>Constable ‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏õ‡∏Å‡∏õ‡πâ‡∏≠‡∏á‡∏ú‡∏π‡πâ‡πÄ‡∏•‡πà‡∏ô 1 ‡∏Ñ‡∏ô</li>
                    </ul>
                </div>
            </div>
        </div>

        <!-- Modal for card actions -->
        <div id="modal" class="modal">
            <div class="modal-content">
                <div class="modal-header">
                    <h3 id="modal-title">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÄ‡∏õ‡πâ‡∏≤‡∏´‡∏°‡∏≤‡∏¢</h3>
                    <button class="modal-close" id="modal-close">√ó</button>
                </div>
                <div class="modal-body" id="modal-body">
                    <!-- Modal content will be inserted here -->
                </div>
            </div>
        </div>

        <!-- Toast notifications -->
        <div id="toast-container"></div>
    </div>

    <!-- Game Scripts -->
    <script src="js/utils.js"></script>
    <script src="js/cards.js"></script>
    <script src="js/characters.js"></script>
    <script src="js/gameState.js"></script>
    <script src="js/ui.js"></script>
    <script src="js/screens.js"></script>
    <script src="js/connection.js"></script>
    <script src="js/gameLog.js"></script>
    <script src="js/botAI.js"></script>
    <script src="js/app.js"></script>
</body>

</html>